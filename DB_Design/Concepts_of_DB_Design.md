# DB설계란 무엇인가?

명지대학교 컴퓨터공학과 이춘식교수님 데이터베이스설계 강의



## Data?

- 현실 세계로부터 단순한 관찰이나 측정을 통해서 수집된 **사실이나 값**

- **정형화되고** 기록될만한 가치가 있다고 판단되는 현셀 세계의 어떤 현상이나 사건에 대한 묘사
- 질적이거나 양적인 값
- 추상화 수준에서 가장 낮음
- **Raw Data**
  - **Unprocessed Data**
  - 숫자나 문자로 표현
- **DIKW**
  - **Data**
    - 실제 세상에 존재하는 **사실적인 자료**
    - 측정 목적에 대해서 평가되지 않은 단순한 여러 사실 (Raw Data)
    - example
      - 기상 관측 데이터에서 풍속, 풍향 등
  - **Information(정보)**
    - 데이터로부터 추출(Processing)하여 **처리, 가공**
    - 특정 목적을 달성하는 데 필요한 정보가 생산
    - example
      - 기상 데이터를 가지고 내일 아침 기상 확률 계산**(특정 날짜)**
  - **Knowledge(지식)**
    - 특정 목적의 데이터가 집적되어 **일반화된 형태로** 정리된 것
    - 정보가 **의사 결정**이나 창출에 이용되어 부가가치 발생
    - example
      - 예측 기상 확률이 높다고 해서 항상 그런것은 아니지만 우산을 챙기는 것이 좋음**(일반적)**
  - **Wisdom(지혜)**
    - **지식을 얻고 이해하고 응용하고 발전해나가는 정신적 능력**
    - 축적된 지식을 응용해서 새로운 파생 지식을 찾아냄
    - 다른 분야에 응용해서 새로운 이론및 비즈니스를 만듬



## File System

- 하나의 응용프로그램에 종속되어 있는 Data Set
- 응용프로그램에 종속적인 구조
- 단점:
  - **Redundancy(중복)**	<= 가장 큰 단점
  - 독립성, 일관성,무결성 보장 문제
  - 프로그램 의존적
  - 시간 의존적
  - 낮은 경제성, 보안
- 위 단점들을해결하기 위해 DB등장



## DataBase

- 한 조직의 응용시스템이 **공유**하기 위해서 **최소의 중복**으로 **통합, 저장, 운영**되는 데이터의 집합
- **4가지 성향**
  - **통합된 데이터**
    - 최소의 중복, 통제된 중복으로 통합된 데이터
  - **저장된 데이터**
    - 컴퓨터가 접근할 수 있는 매체에 저장된 데이터
  - **운영 데이터**
    - 어떤 조직의 고유 기능 수행을 위한 데이터
  - **공용 데이터**
    - 한 조직의 여러 응용시스템들이 공동으로 생성하고 유지, 사용되는 공동의 데이터
- **중앙집중 제어를 갖는 DB의 장점**
  - 중복성 감소
  - 일관성
  - 데이터 공유
  - 데이터 표준화
  - 보안
  - 데이터 무결성
- 구성
  - 물리적 관점
    - 디스크나 테이프 등과 같은 저장 장치에 실제 수록된 데이터 레코드의 물리적 표현
  - 논리적 관점
    - 개체나 엔터티, 테이블로 DB를 표현



## DBMS(DataBase Managements Systems)

- DB를 쉽세  생성하고, 수정, 삭제하고 관리하는 시스템
- 실시간 접근이 가능
- 계속적인 변화
- 동시 공유
- **내용에 의한 참조**
  - **데이터에 대한 조건으로 원하는 결과 검출**
- 데이터를 사용하기위한 서비스를 제공하는 소프트웨어
- example
  - Oracle ..
- 기능
  - Language Interface
  - 저장 관리
  - 트랜잭션 관리
  - 보안(Security) 관리
  - 회복(Recovery) 관리
  - 여러개의 데이터를 독립적으로 관리

- File System -> 계층형/네트워크DBMS -> 관계형DBMS -> 객체지향 DBMS -> 객체관계DBMS -> NoSQL



## DBS(DataBase System)

- 데이터를 DB에  저장하고 관리해서 필요한 정보를 생성하는 컴퓨터 중심의 시스템

   <img src="C:\Users\chan\AppData\Roaming\Typora\typora-user-images\image-20200911001149247.png" alt="image-20200911001149247" style="zoom: 67%;" />

- 구성요소

  - DB
  - DB Language
  - DBMS
  - User

- 구성요소에 대한 담당자

   <img src="C:\Users\chan\AppData\Roaming\Typora\typora-user-images\image-20200911001544619.png" alt="image-20200911001544619" style="zoom:67%;" />







## 데이터 관련 직무의 종류

#### DBA(DataBase Administrator)

- 필요 기술
  - 데이터 모델링
    - 업무에 따른 모델링
    - 물리 데이터 모델링
    - 반정규화, 성능 모델링
  - DB 물리 설계
    - 저장 공간 설계
    - 클러스터링, 파티션, 인덱스 설계
  - 튜닝
    - 성능 개선
  - DB 구축
    - DB Object 생성
  - DB 운영
    - 백업/복구
    - 성능 모니터링
  - 표준화
    - 용어 사전, 도메인 정의
    - 메타데이터 관리



#### DA(Data Architect)

- 데이터, DB, 데이터 표준, 데이터 보안 등에 대해 정책 및 기준을 수립하여 모델링
- **DBA는 구현**에 초점, **DA는 설계**에 초점
  - DBA -> DA
- 역할
  - 데이터관리 체계 수립
    - 데이터에 개한 거버넌스 체계를 수립
  - 데이터 표준 수립
  - **데이터 모델링 수행**
    - **개념적 -> 논리적 -> 물리적**
    - **전체 데이터 아키텍쳐의 구조에 있어 가장 중요힘**
  - 데이터 보안체계 수립



## 3단계 DB구조

- DB를 보는 관점에 따라 3개의 계층으로 분리

   <img src="C:\Users\chan\AppData\Roaming\Typora\typora-user-images\image-20200911002615093.png" alt="image-20200911002615093" style="zoom:67%;" />

  - **외부 스키마(Externel Schema)**
    - 개개인의 사용자가 보는 개인적 DB 스키마
    - 각 사용자 관점
  - **개념 스키마(Conceptual Schema)**
    - **모든 사용자 관점을 통합한** 조직 전체의 DB를 기술하는 것
      -  **통합 관점	<- 중요!!**
    - 설계자가 개념 스키마 설계
  - **내부 스키마(Internal Schema)**
    - DB가 물리적으로 저장된 형태
    - 물리적 저장 관점

- 사상(Mapping)

  - 외부적/개념적 사상
  - 개념적/내부적 사상



### 최근 IT 경향

- 업무에서 DB를 설계, 구축하는 것은 전체 시스템을 구축하는 것과 같은 중요도
- 기능화(프로그램) 및 통합화(데이터베이스)
- 객체지향 방법론에 의해 객체지향 모델링 진행
  - 유스케이스 다이어그램, 시퀀스 다이어그램
- **객체지향 설계, 컴포넌트 설계가 데이터베이스의 모든 것을 해결해주지 않음**
- 통합 데이터모델링의 중요성 대두
- 데이터 모델링 전문가의 부족
- 이전 데이터 모델링을 이용한 잘못된 모델링의 반복



## DataBase 설계

- **요구조건 분석 -> 개념적 설계 -> 논리적 설계 -> 물리적 설계 -> 구현**
- **개념적 설계(Conceptual)**
  - ER Model
  - 자료양과 사용 패턴 분석
  - 추상적
- **논리적 설계(Logical)**
  - **업무 중심**
  - DB 중심이 아니다 
- **물리적 설계(Physical)**
  - **DB, DBMS 중심**
  - 응답 시간, 저장공간 효율성 등을 고려
  - 구체적



 <img src="C:\Users\chan\AppData\Roaming\Typora\typora-user-images\image-20200911005809956.png" alt="image-20200911005809956" style="zoom:80%;" />



#### 프로젝트 라이프사이클

 <img src="C:\Users\chan\AppData\Roaming\Typora\typora-user-images\image-20200911010131049.png" alt="image-20200911010131049" style="zoom:80%;" />



## 모델링

- 모형, 축소형

- **현실 세계의 추상화된 반영**

   <img src="C:\Users\chan\AppData\Roaming\Typora\typora-user-images\image-20200911011039423.png" alt="image-20200911011039423" style="zoom:80%;" />



#### 모델링의 특징

- **추상화**
  - 다양한 현상을 일정한 표기법에 의해 표현
- **단순화**
  - 복잡한 현실세께를 제한된 표기법이나 언어로 표현하여 쉽게 이해할 수 있도록
- **명확화**
  - 누구나 이해하기 쉽게하기 위해 정확하게 현상에 대해 기술하는 것



#### 모델링의 세가지 관점

- 데이터 관점
  - 어떤 데이터와 관련이 있는지
- 프로세스 관점
  - 업무가 실제로 하는 일은 무엇인지
  - 어떤 업무를 해야 하는지를 모델링
- 상관 관점
  - 업무 프로세스에 따라 데이터가 어떤 영향을 받는지
  - Interaction

 <img src="C:\Users\chan\AppData\Roaming\Typora\typora-user-images\image-20200911011719866.png" alt="image-20200911011719866" style="zoom:80%;" />\



## 데이터 모델링

- 정보 시스템을 구축하기 위해, 해당 **업무에 어떤 데이터가 존재**하는지 또는 **업무가 필요로 하는 정보**는 무엇인지를 분석하는 방법
- 현실 세계의 데이터에 대해 약속된 표기법에 의해 표현하는 과정



#### 데이터 모델링의 특징

- 가시화
- 명시화(Specification)
- 구조화된 틀을 제공(Scheme, Meta Data)
- 문서화
- 추상화
- 다양한 표현 방법



#### 데이터 모델링의 중요성

- 파급효과
  - 프로젝트 초기에 가장 중요한 작업
  - 잘못되면 나중에 변경시 막대한 비용 발생
- 간결한 표현
  - 명확하고 간결하게
- 데이터 품질
  - 데이터 품질의 3대 요소 값, 구조, 프로세스 중 구조에 대한 핵짐적인 요소가 데이터 모델
  - 중복, 비유연성, 비일관성의 문제 해결



#### 데이터 모델링의 3가지

1. 업무가 관여하는 어떤 것**(Things)**
2. 업무가 관여하는 어떤 것 간의 관계**(Relationships)**
3. 어떤 것이 가지는 성격**(Attribures)**



#### 데이터 모델링의 단수와 복수의 개념

​	<img src="C:\Users\chan\AppData\Roaming\Typora\typora-user-images\image-20200911012734004.png" alt="image-20200911012734004" style="zoom: 80%;" />



#### 데이터 모델링의 이해관계자

- **정보 시스템을 구축하는 모든 사람**(코더, 개발자 포함)



#### 데이터 모델링 표기법의 종류

​	<img src="C:\Users\chan\AppData\Roaming\Typora\typora-user-images\image-20200911013031765.png" alt="image-20200911013031765" style="zoom:80%;" />

- **IE**(Crow's Foot, 정보공학 표기법)이 많이 쓰임

  ​	<img src="C:\Users\chan\AppData\Roaming\Typora\typora-user-images\image-20200911013744658.png" alt="image-20200911013744658" style="zoom: 80%;" />

- **Chen**

  - 엔터티: 사각형
  - 관계: 마름모
    - 1:1, 1:M, M:N
  - 속성: 타원
    - 도메인: 가능한 모든 속성값의 집합
    - 키: 개체를 식별하기 위해
  - Key: 밑줄

- **Barker**(Case * Method)

  - 오라클에서 사용

- IDEF1X

  - 미 공군이 개발
  - 미국에서만 쓰임



#### ERD 작업 순서

1. 엔터티를 그린다.
2. 엔터티를 적절하게 **배치**한다.
   - 중요도가 높은 순으로 왼쪽에서 오른쪽, 위쪽에서 아래쪽
     - 필수는 아님
3. 엔터티간 **관계를 설정**한다.
4. **관계명**을 기술한다.
5. 관계의 **참여도**를 기술한다.
   - 관계 차수(Cardinality)를 표현
6. 관계의 **필수여부**를 기술한다.



#### 좋은 데이터 모델의 요소

- **완전성(Completeness)**
  - 업무에서 필요로 하는 모든 데이터
- **중복배제(Non-Redundancy)**
  - 정규화
- **업무 규칙(Business Rules)**
- **데이터 재사용(Data Reusebility)**
  - 데이터의 통합성괴 독립성에 대해 고려
- **의사소통(Communication)**
- **통합성(Integration)**